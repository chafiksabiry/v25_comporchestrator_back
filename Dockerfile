# Use official Node.js image
FROM node:18-alpine

# Create app directory
WORKDIR /app

# Install dependencies
COPY package*.json ./
RUN npm install

# Copy app files
COPY . .

# Expose port
EXPOSE 3003

ENV MONGODB_URI="mongodb://harx:ix5S3vU6BjKn4MHp@207.180.226.2:27017/V25_HarxPreProd"
ENV PORT=3003
ENV NODE_ENV=development
#ENV MONGODB_URI=mongodb://localhost:27017/telephony-app
#TELNYX_API_KEY=KEY01967C8E1B1F9A2F115332954830E4B1_odzM7GOekNlBfz8IwrO8ap
ENV TELNYX_API_KEY=KEY019690D1904628BDD9BA5E852B56E231_pje6tiJqaeCqb5uD9Z586f
ENV TELNYX_PUBLIC_KEY=p6hE3S51+5lFB/wyde20BZjcamw1QGBMUrBjQp3oe1A=
ENV TELNYX_CONNECTION_ID=1234567890
ENV TELNYX_APPLICATION_ID=2800936068575135000
ENV TELNYX_MESSAGING_PROFILE_ID=12345
ENV BASE_URL=https://preprod-api-comp-orchestrator.harx.ai
#ENV BASE_URL=https://api-Comp-Orchestrator.harx.ai
ENV TWILIO_ACCOUNT_SID=AC8a453959a6cb01cbbd1c819b00c5782f
ENV TWILIO_AUTH_TOKEN=7ade91a170bff98bc625543287ee62c8
ENV TELNYX_MIN_BALANCE=10
ENV TWILIO_ACCOUNT_SID=AC8a453959a6cb01cbbd1c819b00c5782f

# Start the app
CMD ["npm", "start"]
